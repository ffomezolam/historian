!function(t,i,o){"undefined"!=typeof module&&module.exports?module.exports=o():"function"==typeof define&&define.amd?define(o):i[t]=o()}("Historian",this,function(){function t(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t,i){this._context=t||window,this._size=i||10,this._history={undo:[],redo:[]},this._next="undo"}return i.prototype={register:function(i,o){t(o)||(o=[o]);var n=this._next;return this._history[n].length>=this._size&&this._history[n].unshift(),this._history[n].push({command:i,args:o}),this._next="undo",this},undo:function(t){if(t=t||1,t>this._history.undo.length&&(t=this._history.undo.length),this._history.undo.length<this._size)for(var i=0;t>i;i++){var o=this._history.undo.pop();this._next="redo",o.command.apply(this._context,o.args)}return this},redo:function(t){if(t=t||1,t>this._history.redo.length&&(t=this._history.redo.length),this._history.redo.length<this._size)for(var i=0;t>i;i++){var o=this._history.redo.pop();this._next="undo",o.command.apply(this._context,o.args)}return this}},i});